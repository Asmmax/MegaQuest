{
	"hotKeys":["inventory"],
	"inputs":[
	{
		"key":"root",
		"paragraph":"root",
		"container":"root"
	}
	],
	"items": [
	{
		"id":"coin",
		"isNullable":true,
		"text":
		{
			"forms":[
			{
				"type":"SpecificForm",
				"counts":[11,12,13,14],
				"text":"монет"
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[1],
				"text":"монета"
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[2,3,4],
				"text":"монеты"
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[0,5,6,7,8,9],
				"text":"монет"
			}
			]
		}
	},
	{
		"id":"medalion",
		"text":
		{
			"forms":[
			{
				"type":"SpecificForm",
				"counts":[11,12,13,14],
				"text":"медальонов"
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[1],
				"text":"медальон"
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[2,3,4],
				"text":"медальона"
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[0,5,6,7,8,9],
				"text":"медальонов"
			}
			]
		}
	}
	],
	"inventories":[
	{
		"id":"player",
		"items":[
		{
			"id":"coin",
			"count":0
		}
		]
	}
	],
	"paragraphs":[
	{
		"type":"StateMachine",
		"id":"root",
		"target":"world"
	},
	{
		"type":"Group",
		"id":"world",
		"paragraphs":["world_prefix", "world_root"]
	},
	{
		"type":"Text",
		"id":"world_prefix",
		"text":"Дорога:\n"
	},
	{
		"type":"StateMachine",
		"id":"world_root",
		"target":"road"
	},
	{
		"type":"Condition",
		"id":"road",
		"then":"road_next",
		"else":"road_need_coins",
		"conditions":[
		{
			"type":"Comparison",
			"left":{
				"type":"Inventory",
				"inventory":"player",
				"item":"coin"
			},
			"operation":"Greater",
			"right":{
				"type":"Simple",
				"value":40
			}
		}
		]
	},
	{
		"type":"Text",
		"id":"road_need_coins",
		"text":"Перед вами дорога"
	},
	{
		"type":"Text",
		"text":"Теперь у нас есть достаточно золота, чтобы поехать дальше",
		"id":"road_next"
	},
	{
		"type":"Text",
		"text":"Вы прошли этот квест!",
		"id":"next"
	},
	{
		"type":"Text",
		"id":"explored_road",
		"text":"Вы видите перед собой дорогу, а на дороге путника."
	},
	{
		"type":"StateMachine",
		"id":"trump",
		"target":"talked_trump"
	},
	{
		"type":"Text",
		"id":"empty_trump",
		"text":"Здравствуй незнакомец, а я тебе уже всё отдал."
	},
	{
		"type":"Text",
		"id":"talked_trump",
		"text":"Здравствуй незнакомец, на вот те за просто так 50 монет и медальон."
	},
	{
		"type":"Group",
		"id":"inventory",
		"paragraphs":["inventory_prefix", "inventory_root"]
	},
	{
		"type":"Text",
		"id":"inventory_prefix",
		"text":"Инвентарь:\n"
	},
	{
		"type":"Inventory",
		"id":"inventory_root",
		"prefix":{
			"forms":[
			{
				"type":"SpecificForm",
				"counts":[1],
				"text":"В сумке лежит "
			},
			{
				"type":"DefaultForm",
				"text":"В сумке лежат "
			}
			]
		},
		"postfix":{
			"forms":[
			{
				"type":"DefaultForm",
				"text":"."
			}
			]
		},
		"gap":", ",
		"inventory":"player",
		"itemOrders":[
		{
			"id":"coin",
			"order":-100
		}
		]
	}
	],
	"containers":[
	{
		"type":"StateMachine",
		"id":"root",
		"target":"world"
	},
	{
		"type":"Group",
		"id":"world",
		"containers":["world_root", "to_inventory"]
	},
	{
		"type":"StateMachine",
		"id":"world_root",
		"target":"road"
	},
	{
		"type":"Simple",
		"id":"to_inventory",
		"cases":[
		{
			"key":"inventory",
			"text":"Открыть инвентарь",
			"actions":[
			{
				"type":"ParagraphSwitching",
				"stateMachine":"root",
				"target":"inventory"
			},
			{
				"type":"CasesSwitching",
				"stateMachine":"root",
				"target":"inventory"
			}
			]
		}
		]
	},
	{
		"type":"Condition",
		"id":"road",
		"then":"road_next",
		"else":"road_need_coins",
		"conditions":[
		{
			"type":"Comparison",
			"left":{
				"type":"Inventory",
				"inventory":"player",
				"item":"coin"
			},
			"operation":"Greater",
			"right":{
				"type":"Simple",
				"value":40
			}
		}
		]
	},
	{
		"type":"Simple",
		"id":"road_need_coins",
		"cases":[
		{
			"text":"Осмотреть",
			"actions":[
			{
				"type":"ParagraphSwitching",
				"stateMachine":"world_root",
				"target":"explored_road"
			},
			{
				"type":"CasesSwitching",
				"stateMachine":"world_root",
				"target":"explored_road"
			}
			]
		},
		{
			"text":"Поговорить с путником",
			"actions":[
			{
				"type":"ParagraphSwitching",
				"stateMachine":"world_root",
				"target":"trump"
			},
			{
				"type":"CasesSwitching",
				"stateMachine":"world_root",
				"target":"trump"
			}
			]
		}
		]
	},
	{
		"type":"Simple",
		"id":"road_next",
		"cases":[
		{
			"text":"Заплатить 40 монет и отправиться дальше по дороге",
			"actions":[
			{
				"type":"Transfer",
				"source":"player",
				"items":[
				{
					"id":"coin",
					"count":40
				}
				]
			},
			{
				"type":"ParagraphSwitching",
				"stateMachine":"world_root",
				"target":"next"
			},
			{
				"type":"CasesSwitching",
				"stateMachine":"world_root",
				"target":"next"
			}
			]
		}
		]
	},
	{
		"type":"Simple",
		"id":"next"
	},
	{
		"type":"Simple",
		"id":"explored_road",
		"cases":[
		{
			"text":"Вернуться назад",
			"actions":[
			{
				"type":"ParagraphSwitching",
				"stateMachine":"world_root",
				"target":"road"
			},
			{
				"type":"CasesSwitching",
				"stateMachine":"world_root",
				"target":"road"
			}
			]
		}
		]
	},
	{
		"type":"StateMachine",
		"id":"trump",
		"target":"talked_trump"
	},
	{
		"type":"Simple",
		"id":"empty_trump",
		"cases":[
		{
			"text":"Вернуться назад",
			"actions":[
			{
				"type":"ParagraphSwitching",
				"stateMachine":"world_root",
				"target":"road"
			},
			{
				"type":"CasesSwitching",
				"stateMachine":"world_root",
				"target":"road"
			}
			]
		}
		]
	},
	{
		"type":"Simple",
		"id":"talked_trump",
		"cases":[
		{
			"text":"Забрать подарок и вернуться назад",
			"actions":[
			{
				"type":"Transfer",
				"target":"player",
				"items":[
				{
					"id":"coin",
					"count":50
				},
				{
					"id":"medalion",
					"count":1
				}
				]
			},
			{
				"type":"ParagraphSwitching",
				"stateMachine":"world_root",
				"target":"road"
			},
			{
				"type":"CasesSwitching",
				"stateMachine":"world_root",
				"target":"road"
			},
			{
				"type":"ParagraphSwitching",
				"stateMachine":"trump",
				"target":"empty_trump"
			},
			{
				"type":"CasesSwitching",
				"stateMachine":"trump",
				"target":"empty_trump"
			}
			]
		}
		]
	},
	{
		"type":"Group",
		"id":"inventory",
		"containers":["inventory_root"]
	},
	{
		"type":"Simple",
		"id":"inventory_root",
		"cases":[
		{
			"text":"Назад",
			"actions":[
			{
				"type":"ParagraphSwitching",
				"stateMachine":"root",
				"target":"world"
			},
			{
				"type":"CasesSwitching",
				"stateMachine":"root",
				"target":"world"
			}
			]
		}
		]
	}
	]
}