{
	"quests":[
	{
		"id":"testquest",
		"type":"QuestHeader",
		"slots":["testquest_paragraph_main","testquest_container_main","testquest_container_inventory","testquest_inventory_player"]
	}
	],
	"slots":[
	{
		"id":"testquest_paragraph_main",
		"type":"ParagraphInput",
		"slot":"paragraph_main",
		"paragraph":"root"
	},
	{
		"id":"testquest_container_main",
		"type":"CaseContainerInput",
		"slot":"container_main",
		"container":"root"
	},
	{
		"id":"testquest_container_inventory",
		"type":"CaseContainerInput",
		"slot":"container_inventory",
		"container":"to_inventory"
	},
	{
		"id":"testquest_inventory_player",
		"type":"InventoryInput",
		"slot":"inventory_player",
		"inventory":"player"
	}
	],
	"items": [
	{
		"id":"coin",
		"type":"Item",
		"name":"coin",
		"isNullable":true,
		"text":
		{
			"type":"FormatedString",
			"forms":[
			{
				"type":"SpecificForm",
				"counts":[11,12,13,14],
				"text":
				{
					"type":"TextString",
					"u8":"монет"
				}
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[1],
				"text":
				{
					"type":"TextString",
					"u8":"монета"
				}
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[2,3,4],
				"text":
				{
					"type":"TextString",
					"u8":"монеты"
				}
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[0,5,6,7,8,9],
				"text":
				{
					"type":"TextString",
					"u8":"монет"
				}
			}
			]
		}
	},
	{
		"id":"medalion",
		"type":"Item",
		"name":"medalion",
		"text":
		{
			"type":"FormatedString",
			"forms":[
			{
				"type":"SpecificForm",
				"counts":[11,12,13,14],
				"text":
				{
					"type":"TextString",
					"u8":"медальонов"
				}
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[1],
				"text":
				{
					"type":"TextString",
					"u8":"медальон"
				}
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[2,3,4],
				"text":
				{
					"type":"TextString",
					"u8":"медальона"
				}
			},
			{
				"type":"TailForm",
				"notation":10,
				"digits":[0,5,6,7,8,9],
				"text":
				{
					"type":"TextString",
					"u8":"медальонов"
				}
			}
			]
		}
	}
	],
	"inventories":[
	{
		"id":"player",
		"type":"Inventory",
		"items":[
		{
			"type":"ItemRecord",
			"item":"coin",
			"count":0
		},
		{
			"type":"ItemRecord",
			"item":"medalion",
			"count":0
		}
		]
	}
	],
	"paragraphs":[
	{
		"type":"ParagraphStateMachine",
		"id":"root",
		"state":"world"
	},
	{
		"type":"ParagraphGroup",
		"id":"world",
		"children":["world_prefix", "world_root"]
	},
	{
		"type":"TextParagraph",
		"id":"world_prefix",
		"text":
		{
			"type":"TextString",
			"u8":"Дорога:\n"
		}
	},
	{
		"type":"ParagraphStateMachine",
		"id":"world_root",
		"state":"road"
	},
	{
		"type":"ConditionalParagraph",
		"id":"road",
		"thenParagraph":"road_next",
		"elseParagraph":"road_need_coins",
		"conditions":[
		{
			"type":"Comparison",
			"left":{
				"type":"InventoryValue",
				"inventory":"player",
				"item":"coin"
			},
			"op":"Greater",
			"right":{
				"type":"SimpleValue",
				"value":40
			}
		}
		]
	},
	{
		"type":"TextParagraph",
		"id":"road_need_coins",
		"text":
		{
			"type":"TextString",
			"u8":"Перед вами дорога"
		}
	},
	{
		"type":"TextParagraph",
		"id":"road_next",
		"text":
		{
			"type":"TextString",
			"u8":"Теперь у нас есть достаточно золота, чтобы поехать дальше"
		}
	},
	{
		"type":"TextParagraph",
		"id":"next",
		"text":
		{
			"type":"TextString",
			"u8":"Вы прошли этот квест!"
		}
	},
	{
		"type":"TextParagraph",
		"id":"explored_road",
		"text":
		{
			"type":"TextString",
			"u8":"Вы видите перед собой дорогу, а на дороге путника."
		}
	},
	{
		"type":"ParagraphStateMachine",
		"id":"trump",
		"state":"talked_trump"
	},
	{
		"type":"TextParagraph",
		"id":"empty_trump",
		"text":
		{
			"type":"TextString",
			"u8":"Здравствуй незнакомец, а я тебе уже всё отдал."
		}
	},
	{
		"type":"TextParagraph",
		"id":"talked_trump",
		"text":
		{
			"type":"TextString",
			"u8":"Здравствуй незнакомец, на вот те за просто так 50 монет и медальон."
		}
	},
	{
		"type":"ParagraphGroup",
		"id":"inventory",
		"children":["inventory_prefix", "inventory_root"]
	},
	{
		"type":"TextParagraph",
		"id":"inventory_prefix",
		"text":
		{
			"type":"TextString",
			"u8":"Инвентарь:\n"
		}
	},
	{
		"type":"InventoryParagraph",
		"id":"inventory_root",
		"prefix":{
			"forms":[
			{
				"type":"SpecificForm",
				"counts":[1],
				"text":
				{
					"type":"TextString",
					"u8":"В сумке лежит "
				}
			},
			{
				"type":"FormBase",
				"text":
				{
					"type":"TextString",
					"u8":"В сумке лежат "
				}
			}
			]
		},
		"postfix":{
			"forms":[
			{
				"type":"FormBase",
				"text":
				{
					"type":"TextString",
					"u8":"."
				}
			}
			]
		},
		"gap":
		{
			"type":"TextString",
			"u8":", "
		},
		"inventory":"player",
		"itemOrders":[
		{
			"type":"ItemOrder",
			"item":"coin",
			"order":-100
		}
		]
	}
	],
	"actions":[
	{
		"id":"explored_paragraph_switching",
		"type":"ParagraphSwitching",
		"stateMachine":"world_root",
		"nextParagraph":"explored_road"
	},
	{
		"id":"explored_container_switching",
		"type":"CaseContainerSwitching",
		"stateMachine":"world_root",
		"nextContainer":"explored_road"
	},
	{
		"id":"trump_paragraph_switching",
		"type":"ParagraphSwitching",
		"stateMachine":"world_root",
		"nextParagraph":"trump"
	},
	{
		"id":"trump_container_switching",
		"type":"CaseContainerSwitching",
		"stateMachine":"world_root",
		"nextContainer":"trump"
	},
	{
		"id":"next_transfer",
		"type":"Transfer",
		"source":"player",
		"items":[
		{
			"type":"ItemRecord",
			"item":"coin",
			"count":40
		}
		]
	},
	{
		"id":"next_paragraph_switching",
		"type":"ParagraphSwitching",
		"stateMachine":"world_root",
		"nextParagraph":"next"
	},
	{
		"id":"next_container_switching",
		"type":"CaseContainerSwitching",
		"stateMachine":"world_root",
		"nextContainer":"next"
	},
	{
		"id":"back_paragraph_switching",
		"type":"ParagraphSwitching",
		"stateMachine":"world_root",
		"nextParagraph":"road"
	},
	{
		"id":"back_container_switching",
		"type":"CaseContainerSwitching",
		"stateMachine":"world_root",
		"nextContainer":"road"
	},
	{
		"id":"gift",
		"type":"Transfer",
		"target":"player",
		"items":[
		{
			"type":"ItemRecord",
			"item":"coin",
			"count":50
		},
		{
			"type":"ItemRecord",
			"item":"medalion",
			"count":1
		}
		]
	},
	{
		"id":"empty_trump_paragraph_switching",
		"type":"ParagraphSwitching",
		"stateMachine":"trump",
		"nextParagraph":"empty_trump"
	},
	{
		"id":"empty_trump_container_switching",
		"type":"CaseContainerSwitching",
		"stateMachine":"trump",
		"nextContainer":"empty_trump"
	},
	{
		"id":"inventory_back_paragraph_switching",
		"type":"ParagraphSwitching",
		"stateMachine":"root",
		"nextParagraph":"world"
	},
	{
		"id":"inventory_back_container_switching",
		"type":"CaseContainerSwitching",
		"stateMachine":"root",
		"nextContainer":"world"
	},
	{
		"id":"to_inventory_container_switching",
		"type":"CaseContainerSwitching",
		"stateMachine":"to_inventory",
		"nextContainer":"to_inventory_root"
	},
	{
		"id":"inventory_paragraph_switching",
		"type":"ParagraphSwitching",
		"stateMachine":"root",
		"nextParagraph":"inventory"
	},
	{
		"id":"inventory_container_switching",
		"type":"CaseContainerSwitching",
		"stateMachine":"root",
		"nextContainer":"inventory"
	},
	{
		"id":"to_inventory_inventory_container_switching",
		"type":"CaseContainerSwitching",
		"stateMachine":"to_inventory",
		"nextContainer":"to_inventory_inventory"
	}
	],
	"containers":[
	{
		"type":"CaseContainerStateMachine",
		"id":"root",
		"state":"world"
	},
	{
		"type":"CaseContainerGroup",
		"id":"world",
		"children":["world_root"]
	},
	{
		"type":"CaseContainerStateMachine",
		"id":"world_root",
		"state":"road"
	},
	{
		"type":"ConditionalCaseContainer",
		"id":"road",
		"thenContainer":"road_next",
		"elseContainer":"road_need_coins",
		"conditions":[
		{
			"type":"Comparison",
			"left":{
				"type":"InventoryValue",
				"inventory":"player",
				"item":"coin"
			},
			"op":"Greater",
			"right":{
				"type":"SimpleValue",
				"value":40
			}
		}
		]
	},
	{
		"type":"SimpleCaseContainer",
		"id":"road_need_coins",
		"cases":[
		{
			"type":"Case",
			"name":
			{
				"type":"TextString",
				"u8":"Осмотреть"
			},
			"actions":["explored_paragraph_switching","explored_container_switching"]
		},
		{
			"type":"Case",
			"name":
			{
				"type":"TextString",
				"u8":"Поговорить с путником"
			},
			"actions":["trump_paragraph_switching","trump_container_switching"]
		}
		]
	},
	{
		"type":"SimpleCaseContainer",
		"id":"road_next",
		"cases":[
		{
			"type":"Case",
			"name":
			{
				"type":"TextString",
				"u8":"Заплатить 40 монет и отправиться дальше по дороге"
			},
			"actions":["next_transfer","next_paragraph_switching","next_container_switching"]
		}
		]
	},
	{
		"type":"SimpleCaseContainer",
		"id":"next"
	},
	{
		"type":"SimpleCaseContainer",
		"id":"explored_road",
		"cases":[
		{
			"type":"Case",
			"name":
			{
				"type":"TextString",
				"u8":"Вернуться назад"
			},
			"actions":["back_paragraph_switching","back_container_switching"]
		}
		]
	},
	{
		"type":"CaseContainerStateMachine",
		"id":"trump",
		"state":"talked_trump"
	},
	{
		"type":"SimpleCaseContainer",
		"id":"empty_trump",
		"cases":[
		{
			"type":"Case",
			"name":
			{
				"type":"TextString",
				"u8":"Вернуться назад"
			},
			"actions":["back_paragraph_switching","back_container_switching"]
		}
		]
	},
	{
		"type":"SimpleCaseContainer",
		"id":"talked_trump",
		"cases":[
		{
			"type":"Case",
			"name":
			{
				"type":"TextString",
				"u8":"Забрать подарок и вернуться назад"
			},
			"actions":["gift","back_paragraph_switching","back_container_switching","empty_trump_paragraph_switching","empty_trump_container_switching"]
		}
		]
	},
	{
		"type":"CaseContainerGroup",
		"id":"inventory",
		"children":["inventory_root"]
	},
	{
		"type":"SimpleCaseContainer",
		"id":"inventory_root",
		"cases":[
		{
			"type":"Case",
			"name":
			{
				"type":"TextString",
				"u8":"Назад"
			},
			"actions":["inventory_back_paragraph_switching","inventory_back_container_switching","to_inventory_container_switching"]
		}
		]
	},
	{
		"type":"CaseContainerStateMachine",
		"id":"to_inventory",
		"state":"to_inventory_root"
	},
	{
		"type":"SimpleCaseContainer",
		"id":"to_inventory_root",
		"cases":[
		{
			"type":"Case",
			"name":
			{
				"type":"TextString",
				"u8":"Открыть инвентарь"
			},
			"actions":["inventory_paragraph_switching","inventory_container_switching","to_inventory_inventory_container_switching"]
		}
		]
	},
	{
		"type":"SimpleCaseContainer",
		"id":"to_inventory_inventory"
	}
	]
}